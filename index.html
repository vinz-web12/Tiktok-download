<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>TikTok Downloader HD (Front-End)</title>
<style>
  body{background:#0d0d0d;color:#fff;font-family:Arial,sans-serif;display:flex;flex-direction:column;align-items:center;padding:24px;}
  h1{color:#00e5ff;text-align:center;margin-bottom:20px;}
  input{width:300px;padding:10px;border-radius:10px;border:none;margin-bottom:10px;text-align:center;}
  button{padding:10px 16px;border-radius:10px;border:none;margin:5px;cursor:pointer;font-weight:700;}
  #fetchBtn{background:#00e5ff;color:#000;}
  .previewBox{margin-top:20px;text-align:center;}
  video,img{max-width:400px;border-radius:12px;margin-bottom:10px;}
  #downloadNow{background:#ff5500;color:#000;display:none;}
</style>
</head>
<body>

<h1>ðŸŽµ TikTok Downloader HD (Front-End)</h1>
<input id="urlInput" placeholder="Masukkan link TikTok (Demo URL)" />
<button id="fetchBtn">Preview & Download</button>

<div class="previewBox">
  <video id="previewVideo" controls style="display:none"></video>
  <img id="previewImg" style="display:none" />
  <br/>
  <button id="downloadNow">Download (HD)</button>
</div>

<script>
const fetchBtn = document.getElementById('fetchBtn');
const urlInput = document.getElementById('urlInput');
const previewVideo = document.getElementById('previewVideo');
const previewImg = document.getElementById('previewImg');
const downloadNow = document.getElementById('downloadNow');

fetchBtn.onclick = () => {
  const url = urlInput.value.trim();
  if(!url) return alert('Tempel URL TikTok dulu!');

  // contoh simulasi: jika url mengandung 'video', pakai video demo; else image demo
  if(url.includes('video')){
    const demoVideo = 'https://www.w3schools.com/html/mov_bbb.mp4'; // ganti dengan HD TikTok asli jika ada
    previewVideo.src = demoVideo;
    previewVideo.style.display='block';
    previewImg.style.display='none';
    downloadNow.style.display='inline-block';
    downloadNow.onclick = ()=>downloadBlob(demoVideo,'tiktok_video_hd.mp4');
  } else {
    const demoImage = 'https://via.placeholder.com/400x400.png?text=Foto+TikTok+HD';
    previewImg.src = demoImage;
    previewImg.style.display='block';
    previewVideo.style.display='none';
    downloadNow.style.display='inline-block';
    downloadNow.onclick = ()=>downloadBlob(demoImage,'tiktok_photo_hd.jpg');
  }
};

// helper: download via blob
async function downloadBlob(url,filename){
  try{
    const res = await fetch(url);
    const blob = await res.blob();
    const a = document.createElement('a');
    a.href = URL.createObjectURL(blob);
    a.download = filename;
    document.body.appendChild(a);
    a.click();
    a.remove();
    URL.revokeObjectURL(a.href);
  }catch(e){
    alert('Gagal download: '+e);
  }
}
</script>

</body>
</html>
