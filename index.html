<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>TikTok Downloader HD</title>
<style>
* { margin: 0; padding: 0; box-sizing: border-box; }
body {
  background: #000;
  color: #fff;
  font-family: "Poppins", sans-serif;
  overflow: hidden;
  height: 100vh;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
}
canvas {
  position: fixed;
  top: 0; left: 0;
  width: 100%; height: 100%;
  z-index: -1;
}
h1 {
  font-size: 28px;
  color: #00f7ff;
  margin-bottom: 20px;
  text-shadow: 0 0 15px #00f7ff;
}
input {
  width: 320px;
  padding: 12px;
  border-radius: 10px;
  border: none;
  outline: none;
  margin-bottom: 15px;
  font-size: 16px;
}
button {
  background: #00f7ff;
  color: #000;
  border: none;
  padding: 12px 20px;
  border-radius: 10px;
  font-weight: bold;
  cursor: pointer;
  transition: 0.3s;
}
button:hover {
  background: #00cfff;
}
video {
  margin-top: 20px;
  border-radius: 15px;
  box-shadow: 0 0 20px #00f7ff;
  max-width: 90%;
}
</style>
</head>
<body>
<canvas id="bg"></canvas>
<h1>TikTok Downloader HD</h1>
<input id="tiktokUrl" type="text" placeholder="Tempel link TikTok di sini..." />
<button id="downloadBtn">Download HD</button>
<div id="result"></div>

<script>
// Animasi Partikel
const c = document.getElementById("bg");
const ctx = c.getContext("2d");
c.width = innerWidth;
c.height = innerHeight;
let particles = [];
for (let i = 0; i < 120; i++) {
  particles.push({
    x: Math.random() * c.width,
    y: Math.random() * c.height,
    r: Math.random() * 2,
    dx: (Math.random() - 0.5) * 1,
    dy: (Math.random() - 0.5) * 1,
    color: `hsl(${Math.random() * 360},100%,70%)`
  });
}
function animate() {
  ctx.clearRect(0, 0, c.width, c.height);
  particles.forEach(p => {
    ctx.beginPath();
    ctx.arc(p.x, p.y, p.r, 0, Math.PI * 2);
    ctx.fillStyle = p.color;
    ctx.fill();
    p.x += p.dx;
    p.y += p.dy;
    if (p.x < 0 || p.x > c.width) p.dx *= -1;
    if (p.y < 0 || p.y > c.height) p.dy *= -1;
  });
  requestAnimationFrame(animate);
}
animate();

// Download HD Logic
document.getElementById("downloadBtn").addEventListener("click", async () => {
  const url = document.getElementById("tiktokUrl").value.trim();
  const resultDiv = document.getElementById("result");
  if (!url) {
    alert("Tempel dulu link TikTok-nya!");
    return;
  }
  resultDiv.innerHTML = "<p>Sedang memproses...</p>";

  try {
    // API publik HD downloader
    const res = await fetch(`https://tikcdn.io/hd?url=${encodeURIComponent(url)}`);
    const data = await res.json();

    if (data && data.video && data.video.noWatermark) {
      const videoUrl = data.video.noWatermark;
      resultDiv.innerHTML = `
        <video controls autoplay loop src="${videoUrl}"></video>
        <br><a href="${videoUrl}" download class="dlBtn">
          <button>Download Video HD (1080p)</button>
        </a>`;
    } else {
      resultDiv.innerHTML = "<p>Gagal ambil video HD ðŸ˜¢ Coba link lain.</p>";
    }
  } catch (e) {
    resultDiv.innerHTML = "<p>Error koneksi. Coba lagi.</p>";
  }
});
</script>
</body>
</html>
